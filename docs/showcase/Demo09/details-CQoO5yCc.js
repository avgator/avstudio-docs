import{r as a,c3 as et,c0 as ee,_ as J,c as Se,a as Q,c4 as ne,c5 as Y,c6 as oe,c7 as tt,c8 as yt,c9 as Ct,a1 as St,ca as xt,cb as Ve,C as Et,K as Mt,p as Ne,s as Fe,n as kt,aw as $e,z as Rt,o as Dt,f as je,bN as wt,J as rt,N as Tt,j as fe,y as _t,E as Pt,a5 as pt,a4 as $t}from"./main-C9kTvUvK.js";var me=a.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function Oe(e,n,r){return(e-n)/(r-n)}function Le(e,n,r,t){var o=Oe(n,r,t),i={};switch(e){case"rtl":i.right="".concat(o*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(o*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(o*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(o*100,"%"),i.transform="translateX(-50%)";break}return i}function Ce(e,n){return Array.isArray(e)?e[n]:e}var Ot=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Nt=a.forwardRef(function(e,n){var r,t,o=e.prefixCls,i=e.value,v=e.valueIndex,g=e.onStartMove,S=e.style,x=e.render,y=e.dragging,l=e.onOffsetChange,f=et(e,Ot),c=a.useContext(me),s=c.min,m=c.max,d=c.direction,h=c.disabled,u=c.range,C=c.tabIndex,p=c.ariaLabelForHandle,w=c.ariaLabelledByForHandle,F=c.ariaValueTextFormatterForHandle,k="".concat(o,"-handle"),R=function(B){h||g(B,v)},D=function(B){if(!h){var _=null;switch(B.which||B.keyCode){case ne.LEFT:_=d==="ltr"||d==="btt"?-1:1;break;case ne.RIGHT:_=d==="ltr"||d==="btt"?1:-1;break;case ne.UP:_=d!=="ttb"?1:-1;break;case ne.DOWN:_=d!=="ttb"?-1:1;break;case ne.HOME:_="min";break;case ne.END:_="max";break;case ne.PAGE_UP:_=2;break;case ne.PAGE_DOWN:_=-2;break}_!==null&&(B.preventDefault(),l(_,v))}},E=Le(d,i,s,m),$=a.createElement("div",ee({ref:n,className:Se(k,(r={},Q(r,"".concat(k,"-").concat(v+1),u),Q(r,"".concat(k,"-dragging"),y),r)),style:J(J({},E),S),onMouseDown:R,onTouchStart:R,onKeyDown:D,tabIndex:h?null:Ce(C,v),role:"slider","aria-valuemin":s,"aria-valuemax":m,"aria-valuenow":i,"aria-disabled":h,"aria-label":Ce(p,v),"aria-labelledby":Ce(w,v),"aria-valuetext":(t=Ce(F,v))===null||t===void 0?void 0:t(i)},f));return x&&($=x($,{index:v,prefixCls:o,value:i,dragging:y})),$}),Ft=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],jt=a.forwardRef(function(e,n){var r=e.prefixCls,t=e.style,o=e.onStartMove,i=e.onOffsetChange,v=e.values,g=e.handleRender,S=e.draggingIndex,x=et(e,Ft),y=a.useRef({});return a.useImperativeHandle(n,function(){return{focus:function(f){var c;(c=y.current[f])===null||c===void 0||c.focus()}}}),a.createElement(a.Fragment,null,v.map(function(l,f){return a.createElement(Nt,ee({ref:function(s){s?y.current[f]=s:delete y.current[f]},dragging:S===f,prefixCls:r,style:Ce(t,f),key:f,value:l,valueIndex:f,onStartMove:o,onOffsetChange:i,render:g},x))}))});function Ze(e){var n="touches"in e?e.touches[0]:e;return{pageX:n.pageX,pageY:n.pageY}}function Lt(e,n,r,t,o,i,v,g,S){var x=a.useState(null),y=Y(x,2),l=y[0],f=y[1],c=a.useState(-1),s=Y(c,2),m=s[0],d=s[1],h=a.useState(r),u=Y(h,2),C=u[0],p=u[1],w=a.useState(r),F=Y(w,2),k=F[0],R=F[1],D=a.useRef(null),E=a.useRef(null);a.useEffect(function(){m===-1&&p(r)},[r,m]),a.useEffect(function(){return function(){document.removeEventListener("mousemove",D.current),document.removeEventListener("mouseup",E.current),document.removeEventListener("touchmove",D.current),document.removeEventListener("touchend",E.current)}},[]);var $=function(T,O){C.some(function(I,W){return I!==T[W]})&&(O!==void 0&&f(O),p(T),v(T))},j=function(T,O){if(T===-1){var I=k[0],W=k[k.length-1],ie=t-I,V=o-W,z=O*(o-t);z=Math.max(z,ie),z=Math.min(z,V);var U=i(I+z);z=U-I;var Z=k.map(function(ge){return ge+z});$(Z)}else{var K=(o-t)*O,G=oe(C);G[T]=k[T];var ce=S(G,K,T,"dist");$(ce.values,ce.value)}},B=a.useRef(j);B.current=j;var _=function(T,O){T.stopPropagation();var I=r[O];d(O),f(I),R(r);var W=Ze(T),ie=W.pageX,V=W.pageY,z=function(K){K.preventDefault();var G=Ze(K),ce=G.pageX,ge=G.pageY,xe=ce-ie,Ee=ge-V,te=e.current.getBoundingClientRect(),se=te.width,ue=te.height,L;switch(n){case"btt":L=-Ee/ue;break;case"ttb":L=Ee/ue;break;case"rtl":L=-xe/se;break;default:L=xe/se}B.current(O,L)},U=function Z(K){K.preventDefault(),document.removeEventListener("mouseup",Z),document.removeEventListener("mousemove",z),document.removeEventListener("touchend",Z),document.removeEventListener("touchmove",z),D.current=null,E.current=null,d(-1),g()};document.addEventListener("mouseup",U),document.addEventListener("mousemove",z),document.addEventListener("touchend",U),document.addEventListener("touchmove",z),D.current=z,E.current=U},A=a.useMemo(function(){var X=oe(r).sort(function(O,I){return O-I}),T=oe(C).sort(function(O,I){return O-I});return X.every(function(O,I){return O===T[I]})?C:r},[r,C]);return[m,l,A,_]}function Ht(e){var n=e.prefixCls,r=e.style,t=e.start,o=e.end,i=e.index,v=e.onStartMove,g=a.useContext(me),S=g.direction,x=g.min,y=g.max,l=g.disabled,f=g.range,c="".concat(n,"-track"),s=Oe(t,x,y),m=Oe(o,x,y),d=function(C){!l&&v&&v(C,-1)},h={};switch(S){case"rtl":h.right="".concat(s*100,"%"),h.width="".concat(m*100-s*100,"%");break;case"btt":h.bottom="".concat(s*100,"%"),h.height="".concat(m*100-s*100,"%");break;case"ttb":h.top="".concat(s*100,"%"),h.height="".concat(m*100-s*100,"%");break;default:h.left="".concat(s*100,"%"),h.width="".concat(m*100-s*100,"%")}return a.createElement("div",{className:Se(c,f&&"".concat(c,"-").concat(i+1)),style:J(J({},h),r),onMouseDown:d,onTouchStart:d})}function Bt(e){var n=e.prefixCls,r=e.style,t=e.values,o=e.startPoint,i=e.onStartMove,v=a.useContext(me),g=v.included,S=v.range,x=v.min,y=a.useMemo(function(){if(!S){if(t.length===0)return[];var l=o??x,f=t[0];return[{start:Math.min(l,f),end:Math.max(l,f)}]}for(var c=[],s=0;s<t.length-1;s+=1)c.push({start:t[s],end:t[s+1]});return c},[t,S,o,x]);return g?y.map(function(l,f){var c=l.start,s=l.end;return a.createElement(Ht,{index:f,prefixCls:n,style:Ce(r,f),start:c,end:s,key:f,onStartMove:i})}):null}function It(e){var n=e.prefixCls,r=e.style,t=e.children,o=e.value,i=e.onClick,v=a.useContext(me),g=v.min,S=v.max,x=v.direction,y=v.includedStart,l=v.includedEnd,f=v.included,c="".concat(n,"-text"),s=Le(x,o,g,S);return a.createElement("span",{className:Se(c,Q({},"".concat(c,"-active"),f&&y<=o&&o<=l)),style:J(J({},s),r),onMouseDown:function(d){d.stopPropagation()},onClick:function(){i(o)}},t)}function zt(e){var n=e.prefixCls,r=e.marks,t=e.onClick,o="".concat(n,"-mark");return r.length?a.createElement("div",{className:o},r.map(function(i){var v=i.value,g=i.style,S=i.label;return a.createElement(It,{key:v,prefixCls:o,style:g,value:v,onClick:t},S)})):null}function At(e){var n=e.prefixCls,r=e.value,t=e.style,o=e.activeStyle,i=a.useContext(me),v=i.min,g=i.max,S=i.direction,x=i.included,y=i.includedStart,l=i.includedEnd,f="".concat(n,"-dot"),c=x&&y<=r&&r<=l,s=J(J({},Le(S,r,v,g)),typeof t=="function"?t(r):t);return c&&(s=J(J({},s),typeof o=="function"?o(r):o)),a.createElement("span",{className:Se(f,Q({},"".concat(f,"-active"),c)),style:s})}function Gt(e){var n=e.prefixCls,r=e.marks,t=e.dots,o=e.style,i=e.activeStyle,v=a.useContext(me),g=v.min,S=v.max,x=v.step,y=a.useMemo(function(){var l=new Set;if(r.forEach(function(c){l.add(c.value)}),t&&x!==null)for(var f=g;f<=S;)l.add(f),f+=x;return Array.from(l)},[g,S,x,t,r]);return a.createElement("div",{className:"".concat(n,"-step")},y.map(function(l){return a.createElement(At,{prefixCls:n,key:l,value:l,style:o,activeStyle:i})}))}function Xt(e,n,r,t,o,i){var v=a.useCallback(function(c){var s=isFinite(c)?c:e;return s=Math.min(n,c),s=Math.max(e,s),s},[e,n]),g=a.useCallback(function(c){if(r!==null){var s=e+Math.round((v(c)-e)/r)*r,m=function(C){return(String(C).split(".")[1]||"").length},d=Math.max(m(r),m(n),m(e)),h=Number(s.toFixed(d));return e<=h&&h<=n?h:null}return null},[r,e,n,v]),S=a.useCallback(function(c){var s=v(c),m=t.map(function(u){return u.value});r!==null&&m.push(g(c)),m.push(e,n);var d=m[0],h=n-e;return m.forEach(function(u){var C=Math.abs(s-u);C<=h&&(d=u,h=C)}),d},[e,n,t,r,v,g]),x=function c(s,m,d){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var u,C=s[d],p=C+m,w=[];t.forEach(function(E){w.push(E.value)}),w.push(e,n),w.push(g(C));var F=m>0?1:-1;h==="unit"?w.push(g(C+F*r)):w.push(g(p)),w=w.filter(function(E){return E!==null}).filter(function(E){return m<0?E<=C:E>=C}),h==="unit"&&(w=w.filter(function(E){return E!==C}));var k=h==="unit"?C:p;u=w[0];var R=Math.abs(u-k);if(w.forEach(function(E){var $=Math.abs(E-k);$<R&&(u=E,R=$)}),u===void 0)return m<0?e:n;if(h==="dist")return u;if(Math.abs(m)>1){var D=oe(s);return D[d]=u,c(D,m-F,d,h)}return u}else{if(m==="min")return e;if(m==="max")return n}},y=function(s,m,d){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=s[d],C=x(s,m,d,h);return{value:C,changed:C!==u}},l=function(s){return i===null&&s===0||typeof i=="number"&&s<i},f=function(s,m,d){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=s.map(S),C=u[d],p=x(u,m,d,h);if(u[d]=p,o===!1){var w=i||0;d>0&&u[d-1]!==C&&(u[d]=Math.max(u[d],u[d-1]+w)),d<u.length-1&&u[d+1]!==C&&(u[d]=Math.min(u[d],u[d+1]-w))}else if(typeof i=="number"||i===null){for(var F=d+1;F<u.length;F+=1)for(var k=!0;l(u[F]-u[F-1])&&k;){var R=y(u,1,F);u[F]=R.value,k=R.changed}for(var D=d;D>0;D-=1)for(var E=!0;l(u[D]-u[D-1])&&E;){var $=y(u,-1,D-1);u[D-1]=$.value,E=$.changed}for(var j=u.length-1;j>0;j-=1)for(var B=!0;l(u[j]-u[j-1])&&B;){var _=y(u,-1,j-1);u[j-1]=_.value,B=_.changed}for(var A=0;A<u.length-1;A+=1)for(var X=!0;l(u[A+1]-u[A])&&X;){var T=y(u,1,A+1);u[A+1]=T.value,X=T.changed}}return{value:u[d],values:u}};return[S,f]}var Yt=a.forwardRef(function(e,n){var r,t=e.prefixCls,o=t===void 0?"rc-slider":t,i=e.className,v=e.style,g=e.disabled,S=g===void 0?!1:g,x=e.autoFocus,y=e.onFocus,l=e.onBlur,f=e.min,c=f===void 0?0:f,s=e.max,m=s===void 0?100:s,d=e.step,h=d===void 0?1:d,u=e.value,C=e.defaultValue,p=e.range,w=e.count,F=e.onChange,k=e.onBeforeChange,R=e.onAfterChange,D=e.allowCross,E=D===void 0?!0:D,$=e.pushable,j=$===void 0?!1:$,B=e.draggableTrack,_=e.reverse,A=e.vertical,X=e.included,T=X===void 0?!0:X,O=e.startPoint,I=e.trackStyle,W=e.handleStyle,ie=e.railStyle,V=e.dotStyle,z=e.activeDotStyle,U=e.marks,Z=e.dots,K=e.handleRender,G=e.tabIndex,ce=G===void 0?0:G,ge=e.ariaLabelForHandle,xe=e.ariaLabelledByForHandle,Ee=e.ariaValueTextFormatterForHandle,te=a.useRef(),se=a.useRef(),ue=a.useMemo(function(){return A?_?"ttb":"btt":_?"rtl":"ltr"},[_,A]),L=a.useMemo(function(){return isFinite(c)?c:0},[c]),he=a.useMemo(function(){return isFinite(m)?m:100},[m]),le=a.useMemo(function(){return h!==null&&h<=0?1:h},[h]),at=a.useMemo(function(){return j===!0?le:j>=0?j:!1},[j,le]),Re=a.useMemo(function(){var N=Object.keys(U||{});return N.map(function(M){var b=U[M],H={value:Number(M)};return b&&tt(b)==="object"&&!a.isValidElement(b)&&("label"in b||"style"in b)?(H.style=b.style,H.label=b.label):H.label=b,H}).filter(function(M){var b=M.label;return b||typeof b=="number"}).sort(function(M,b){return M.value-b.value})},[U]),nt=Xt(L,he,le,Re,E,at),He=Y(nt,2),De=He[0],Be=He[1],ot=yt(C,{value:u}),Ie=Y(ot,2),re=Ie[0],it=Ie[1],q=a.useMemo(function(){var N=re==null?[]:Array.isArray(re)?re:[re],M=Y(N,1),b=M[0],H=b===void 0?L:b,P=re===null?[]:[H];if(p){if(P=oe(N),w||re===void 0){var ye=w>=0?w+1:2;for(P=P.slice(0,ye);P.length<ye;){var ve;P.push((ve=P[P.length-1])!==null&&ve!==void 0?ve:L)}}P.sort(function(ae,Me){return ae-Me})}return P.forEach(function(ae,Me){P[Me]=De(ae)}),P},[re,p,L,w,De]),we=a.useRef(q);we.current=q;var de=function(M){return p?M:M[0]},_e=function(M){var b=oe(M).sort(function(H,P){return H-P});F&&!Ct(b,we.current)&&F(de(b)),it(b)},ze=function(M){if(!S){var b=0,H=he-L;q.forEach(function(ye,ve){var ae=Math.abs(M-ye);ae<=H&&(H=ae,b=ve)});var P=oe(q);P[b]=M,p&&!q.length&&w===void 0&&P.push(M),k?.(de(P)),_e(P),R?.(de(P))}},ct=function(M){M.preventDefault();var b=se.current.getBoundingClientRect(),H=b.width,P=b.height,ye=b.left,ve=b.top,ae=b.bottom,Me=b.right,Je=M.clientX,Qe=M.clientY,ke;switch(ue){case"btt":ke=(ae-Qe)/P;break;case"ttb":ke=(Qe-ve)/P;break;case"rtl":ke=(Me-Je)/H;break;default:ke=(Je-ye)/H}var bt=L+ke*(he-L);ze(De(bt))},st=a.useState(null),Ae=Y(st,2),Pe=Ae[0],Ge=Ae[1],ut=function(M,b){if(!S){var H=Be(q,M,b);k?.(de(q)),_e(H.values),R?.(de(H.values)),Ge(H.value)}};a.useEffect(function(){if(Pe!==null){var N=q.indexOf(Pe);N>=0&&te.current.focus(N)}Ge(null)},[Pe]);var lt=a.useMemo(function(){return B&&le===null?!1:B},[B,le]),dt=function(){R?.(de(we.current))},vt=Lt(se,ue,q,L,he,De,_e,dt,Be),Te=Y(vt,4),Xe=Te[0],ft=Te[1],pe=Te[2],mt=Te[3],Ye=function(M,b){mt(M,b),k?.(de(we.current))},Ue=Xe!==-1;a.useEffect(function(){if(!Ue){var N=q.lastIndexOf(ft);te.current.focus(N)}},[Ue]);var be=a.useMemo(function(){return oe(pe).sort(function(N,M){return N-M})},[pe]),gt=a.useMemo(function(){return p?[be[0],be[be.length-1]]:[L,be[0]]},[be,p,L]),We=Y(gt,2),Ke=We[0],qe=We[1];a.useImperativeHandle(n,function(){return{focus:function(){te.current.focus(0)},blur:function(){var M=document,b=M.activeElement;se.current.contains(b)&&b?.blur()}}}),a.useEffect(function(){x&&te.current.focus(0)},[]);var ht=a.useMemo(function(){return{min:L,max:he,direction:ue,disabled:S,step:le,included:T,includedStart:Ke,includedEnd:qe,range:p,tabIndex:ce,ariaLabelForHandle:ge,ariaLabelledByForHandle:xe,ariaValueTextFormatterForHandle:Ee}},[L,he,ue,S,le,T,Ke,qe,p,ce,ge,xe,Ee]);return a.createElement(me.Provider,{value:ht},a.createElement("div",{ref:se,className:Se(o,i,(r={},Q(r,"".concat(o,"-disabled"),S),Q(r,"".concat(o,"-vertical"),A),Q(r,"".concat(o,"-horizontal"),!A),Q(r,"".concat(o,"-with-marks"),Re.length),r)),style:v,onMouseDown:ct},a.createElement("div",{className:"".concat(o,"-rail"),style:ie}),a.createElement(Bt,{prefixCls:o,style:I,values:be,startPoint:O,onStartMove:lt?Ye:null}),a.createElement(Gt,{prefixCls:o,marks:Re,dots:Z,style:V,activeStyle:z}),a.createElement(jt,{ref:te,prefixCls:o,style:W,values:pe,draggingIndex:Xe,onStartMove:Ye,onOffsetChange:ut,onFocus:y,onBlur:l,handleRender:K}),a.createElement(zt,{prefixCls:o,marks:Re,onClick:ze})))}),Ut=a.forwardRef(function(e,n){var r=e.open,t=a.useRef(null),o=a.useRef(null);function i(){Ve.cancel(o.current),o.current=null}function v(){o.current=Ve(function(){var g;(g=t.current)===null||g===void 0||g.forcePopupAlign(),o.current=null})}return a.useEffect(function(){return r?v():i(),i},[r,e.title]),a.createElement(St,ee({ref:xt(t,n)},e))}),Wt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r},or=a.forwardRef(function(e,n){var r=a.useContext(Et),t=r.getPrefixCls,o=r.direction,i=r.getPopupContainer,v=a.useState({}),g=Y(v,2),S=g[0],x=g[1],y=function(R,D){x(function(E){return ee(ee({},E),Q({},R,D))})},l=function(R,D){return R||(D?o==="rtl"?"left":"right":"top")},f=e.prefixCls,c=e.range,s=e.className,m=Wt(e,["prefixCls","range","className"]),d=t("slider",f),h=Se(s,Q({},"".concat(d,"-rtl"),o==="rtl"));o==="rtl"&&!m.vertical&&(m.reverse=!m.reverse);var u=a.useMemo(function(){return c?tt(c)==="object"?[!0,c.draggableTrack]:[!0,!1]:[!1]},[c]),C=Y(u,2),p=C[0],w=C[1],F=function(R,D){var E,$=D.index,j=D.dragging,B=t(),_=e.tooltip,A=_===void 0?{}:_,X=e.vertical,T=ee({formatter:(E=e.tipFormatter)!==null&&E!==void 0?E:function(G){return typeof G=="number"?G.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},A),O=T.open,I=T.placement,W=T.getPopupContainer,ie=T.prefixCls,V=T.formatter,z=V?S[$]||j:!1,U=O||O===void 0&&z,Z=ee(ee({},R.props),{onMouseEnter:function(){return y($,!0)},onMouseLeave:function(){return y($,!1)}}),K=t("tooltip",ie);return a.createElement(Ut,{prefixCls:K,title:V?V(D.value):"",open:U,placement:l(I,X),transitionName:"".concat(B,"-zoom-down"),key:$,overlayClassName:"".concat(d,"-tooltip"),getPopupContainer:W||i},a.cloneElement(R,Z))};return a.createElement(Yt,ee({},m,{step:m.step,range:p,draggableTrack:w,className:h,ref:n,prefixCls:d,handleRender:F}))});const Kt=async()=>{const e=await Ne.get("/api/gettestdevices",{headers:Fe()}).then(t=>t?.data?.data?t.data.data:null).catch(t=>{console.log("Get test devices error occurred:",t)}),{attributes:{userDefinedTestDevices:n=[],predefinedTestDevices:r=[]}}=e??{};return{userDefinedTestDevices:n,predefinedTestDevices:r}},qt=async e=>{const r=Qt.getState().userDefinedTestDevices.find(t=>t.uid===e)?.id;if(!r)throw new Error("Test device to delete not found");return Ne.delete(`/api/test-devices/${r}`,{headers:Fe()})},Jt=async e=>{const n=Mt(),r=await Ne.post("/api/test-devices/?populate=device",{data:{device:{...e,uid:n}}},{headers:Fe()}).then(i=>i.data.data).catch(i=>{console.log("Add test device error occurred:",i)}),{device:t,...o}=r.attributes;return{...t,...o}},Qt=kt()((e,n)=>({userDefinedTestDevices:[],predefinedTestDevices:[],fetchTestDevices:async()=>{const{userDefinedTestDevices:r,predefinedTestDevices:t}=await Kt();e({userDefinedTestDevices:r,predefinedTestDevices:t})},removeUserTestDevice:async r=>{await qt(r).then(()=>{const o=n().userDefinedTestDevices.filter(i=>i.uid!==r);e({userDefinedTestDevices:o})}).catch(t=>{console.log(t),Rt.error("Error while deleting test device")})},createUserTestDevice:async r=>{const t=await Jt(r);e(i=>({userDefinedTestDevices:[...i.userDefinedTestDevices,t]}));const o=$e.getState().updateEnvStore;o({selectedTestDevice:t})}}),Dt.isEqual),ir=({type:e,updatedGuides:n})=>{const r=je.getState().workingProject,t=r?.id,o=r?.attributes.guides??{};if(!t)throw new Error("No project id found");return rt({projectId:t,inputData:{guides:{...o,[e]:n}}})},cr=()=>{const e=()=>{const n=je.getState().workingProject?.id;if(!n)throw new Error("No project id found");return rt({projectId:n,inputData:{guides:{vertical:[],horizontal:[]}}})};return Tt({icon:fe.jsx(_t,{}),title:"Remove all guides?",content:"Please confirm deleting all guides",okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:()=>e(),onCancel:()=>{}})},sr=({editorRenderFrameRef:e})=>{const[n,r]=a.useState(null),[t,o]=a.useState(null),i=$e(l=>l.guiFrameWidth),v=$e(l=>l.guiFrameHeight),[g,S]=a.useState({left:0,top:0}),x=je(l=>l.workingProject?.attributes.guides);a.useEffect(()=>{if(!n||!t)return;const{horizontal:l=[],vertical:f=[]}=x??{};n.loadGuides(f),t.loadGuides(l)},[n,t,x]),a.useEffect(()=>{const l=()=>{let{left:c,top:s}=wt({targetHtmlElement:e.current});c=c*-1,s=s*-1,S({left:c,top:s})};window.addEventListener("resize",l);const f=new ResizeObserver(l);return e.current&&f.observe(e.current),()=>{window.removeEventListener("resize",l),f.disconnect()}},[e]),a.useEffect(()=>{n?.resize(),t?.resize()},[i,v,n,t]);const y=a.useCallback(({left:l,top:f})=>{!t||!n||(t.scroll(l),n.scrollGuides(l),n.scroll(f),t.scrollGuides(f),n.resize(),t.resize())},[n,t]);return a.useEffect(()=>{const{top:l,left:f}=g;y({top:l,left:f})},[g,y]),{setRulerLeftInstance:r,setRulerTopInstance:o,handleScrollGuides:y}};var Vt="details_detailsBox__1xcwu3l0",Zt="details_summaryBox__1xcwu3l1",er="details_summaryIconHolder__1xcwu3l2",tr="details_openStateIcon__1xcwu3l3",rr="details_closedStateIcon__1xcwu3l4",ar="details_contentBox__1xcwu3l5";const ur=Pt.memo(({children:e,summary:n,initialOpen:r=!1})=>fe.jsxs("details",{open:r,className:Vt,children:[fe.jsxs("summary",{className:Zt,children:[fe.jsxs("div",{className:er,children:[fe.jsx(pt,{className:rr}),fe.jsx($t,{className:tr})]}),n]}),fe.jsx("div",{className:ar,children:e})]}));export{ur as D,or as S,ir as a,sr as b,cr as h,Qt as u};
