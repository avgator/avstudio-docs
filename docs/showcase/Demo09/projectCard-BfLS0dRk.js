import{r,I as j,_ as d,an as de,ct as ue,cu as me,cv as he,cw as ve,cx as fe,j as e,a0 as xe,cy as ge,a6 as je,M as te,i as pe,z as I,E as be,ar as R,cz as ye,ax as U,a1 as we,a3 as N,D as ae,cA as Ce,u as Pe,g as ke,aw as Z,bW as ze,au as Be,bk as Re,cB as _,B as E,N as K,cC as Me,f as D,w as He,cD as Oe,aK as Se,h as W,cE as Ee,cF as Q,y as X,aG as De}from"./main-C9kTvUvK.js";import{C as Ie,a as $e,D as Ne}from"./driverGuideButton-CB8g2Q29.js";import{h as q}from"./moment-G82_0lEo.js";import{OneProjectGuideContext as Fe}from"./oneProject-DFpMieA9.js";import{R as b,a as Ae}from"./SettingOutlined-CxBXSFIm.js";import{R as Y}from"./DiffOutlined-BWVCEeCe.js";import{R as Le}from"./BgColorsOutlined-BiP3HOBy.js";import{P as Ve}from"./index-CCUbw95p.js";var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"},_e=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:Te}))},We=r.forwardRef(_e),Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M916 210H376c-17.7 0-32 14.3-32 32v236H108c-17.7 0-32 14.3-32 32v272c0 17.7 14.3 32 32 32h540c17.7 0 32-14.3 32-32V546h236c17.7 0 32-14.3 32-32V242c0-17.7-14.3-32-32-32zm-504 68h200v200H412V278zm-68 468H144V546h200v200zm268 0H412V546h200v200zm268-268H680V278h200v200z"}}]},name:"build",theme:"outlined"},Ue=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:Ye}))},$=r.forwardRef(Ue),qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},Ge=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:qe}))},Je=r.forwardRef(Ge),Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M945 412H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h256c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM811 548H689c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h122c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM477.3 322.5H434c-6.2 0-11.2 5-11.2 11.2v248c0 3.6 1.7 6.9 4.6 9l148.9 108.6c5 3.6 12 2.6 15.6-2.4l25.7-35.1v-.1c3.6-5 2.5-12-2.5-15.6l-126.7-91.6V333.7c.1-6.2-5-11.2-11.1-11.2z"}},{tag:"path",attrs:{d:"M804.8 673.9H747c-5.6 0-10.9 2.9-13.9 7.7a321 321 0 01-44.5 55.7 317.17 317.17 0 01-101.3 68.3c-39.3 16.6-81 25-124 25-43.1 0-84.8-8.4-124-25-37.9-16-72-39-101.3-68.3s-52.3-63.4-68.3-101.3c-16.6-39.2-25-80.9-25-124 0-43.1 8.4-84.7 25-124 16-37.9 39-72 68.3-101.3 29.3-29.3 63.4-52.3 101.3-68.3 39.2-16.6 81-25 124-25 43.1 0 84.8 8.4 124 25 37.9 16 72 39 101.3 68.3a321 321 0 0144.5 55.7c3 4.8 8.3 7.7 13.9 7.7h57.8c6.9 0 11.3-7.2 8.2-13.3-65.2-129.7-197.4-214-345-215.7-216.1-2.7-395.6 174.2-396 390.1C71.6 727.5 246.9 903 463.2 903c149.5 0 283.9-84.6 349.8-215.8a9.18 9.18 0 00-8.2-13.3z"}}]},name:"field-time",theme:"outlined"},Ke=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:Ze}))},G=r.forwardRef(Ke),Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"},Xe=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:Qe}))},et=r.forwardRef(Xe),tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},at=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:tt}))},ee=r.forwardRef(at),it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},nt=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:it}))},rt=r.forwardRef(nt),st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},lt=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:st}))},ot=r.forwardRef(lt),ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 464H528V448h312v128zm0 264H184V184h656v200H496c-17.7 0-32 14.3-32 32v192c0 17.7 14.3 32 32 32h344v200zM580 512a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"wallet",theme:"outlined"},dt=function(n,i){return r.createElement(j,d(d({},n),{},{ref:i,icon:ct}))},ut=r.forwardRef(dt),ie={};(function(t){var n=ue.default,i=me.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=i(he),m=i(ve),s=n(r),x=fe(),h=function(c,u){var f={};for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&u.indexOf(v)<0&&(f[v]=c[v]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,v=Object.getOwnPropertySymbols(c);g<v.length;g++)u.indexOf(v[g])<0&&Object.prototype.propertyIsEnumerable.call(c,v[g])&&(f[v[g]]=c[v[g]]);return f},o=function(u){return s.createElement(x.ConfigConsumer,null,function(f){var v=f.getPrefixCls,g=u.prefixCls,F=u.className,M=u.avatar,H=u.title,P=u.description,O=h(u,["prefixCls","className","avatar","title","description"]),y=v("card",g),A=(0,m.default)("".concat(y,"-meta"),F),L=M?s.createElement("div",{className:"".concat(y,"-meta-avatar")},M):null,k=H?s.createElement("div",{className:"".concat(y,"-meta-title")},H):null,C=P?s.createElement("div",{className:"".concat(y,"-meta-description")},P):null,V=k||C?s.createElement("div",{className:"".concat(y,"-meta-detail")},k,C):null;return s.createElement("div",(0,l.default)({},O,{className:A}),L,V)})};t.default=o})(ie);const mt=de(ie),ht=je.div`
width:30%;
height: 100%;
min-width: 140px;
position: relative;
cursor: pointer;
user-select: none;

.overlayButtons {
    position: absolute;
    z-index: 1;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.3);
    color: #fff;
    opacity: 0.001;
    transition: 200ms;
    backdrop-filter: blur(20px);
}

&:hover {

    .overlayButtons {
        opacity: 0.9999;
    }
  
}
`,vt=({projectScreenshots:t,projectTitle:n})=>{const[i,l]=r.useState(!1),m=({screenShotItem:x,title:h})=>{const o="",{description:c,image:u}=x,{url:f}=u.data.attributes;te.info({width:"90vw",centered:!0,icon:null,maskClosable:!0,title:h,content:e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"70vh",display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column",position:"relative"},children:i?e.jsx(pe,{style:{fontSize:"3em"}}):e.jsx("img",{style:{position:"relative",transition:"200ms",width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},alt:c,src:o+f,onLoad:()=>{l(!1)}})}),e.jsx("div",{children:c})]}),okText:"Close"})},s=t.map(x=>{const{id:h,description:o,image:c,order:u}=x,{thumbnail:f}=c.data.attributes.formats;return e.jsxs(ht,{onClick:()=>{m({screenShotItem:x,title:n})},style:{order:u},children:[e.jsx("img",{style:{position:"absolute",zIndex:0,objectFit:"cover",width:"100%",height:"100%",borderRadius:3},src:""+f.url,alt:o}),e.jsx("div",{className:"overlayButtons",children:e.jsx(xe,{})})]},h)});return e.jsx(ge,{style:{position:"relative",display:"flex",gap:10,alignItems:"stretch",flex:1,minWidth:0,overflow:"auto"},children:s})};function ne(t,n){function i(l,m){const s=document.createElement("a");s.download=m,s.href=l,document.body.appendChild(s),s.click(),s.remove()}fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors",credentials:"include"}).then(l=>{if(l.status===200)return l.blob();I.error("Download build error.")}).then(l=>{if(l){const m=window.URL.createObjectURL(l);i(m,n)}}).catch(l=>console.error(l))}function ft(t){return t<1024?`${t} KB`:`${(t/1024).toFixed(2)} MB`}const xt=be.memo(({project:t,buildingNow:n})=>{const[i,l]=r.useState([]);r.useEffect(()=>{const s=[...t.attributes.builds?.data||[]];function x(h,o){return h.id<o.id?1:h.id>o.id?-1:0}if(s?.length){s.sort(x);const h=[];s.forEach(o=>{let c="Default";try{const f=JSON.parse(o.attributes.alternativeText??"")?.envName;f&&(c=f)}catch{}h.push({key:o.id,envName:e.jsx("div",{style:{textAlign:"right"},children:e.jsx(we,{placement:"topLeft",title:"Environment used for this build",arrowPointAtCenter:!0,children:e.jsx(N,{icon:e.jsx(b,{}),style:{marginLeft:5,lineHeight:"1em",padding:"2px 3px"},color:c!=="Default"?"purple":"",children:c})})}),filename:e.jsxs("div",{style:{whiteSpace:"nowrap"},children:[e.jsx($,{})," ",o.attributes.name]}),fileSize:e.jsxs("div",{style:{whiteSpace:"nowrap"},children:[e.jsx(et,{})," ",ft(o.attributes.size)]}),fileDate:e.jsxs("div",{style:{whiteSpace:"nowrap"},children:[e.jsx(G,{style:{marginRight:"0.5em"}}),q(o.attributes.createdAt).format("MMMM Do YYYY, h:mm a")]}),fileControls:e.jsxs(R.Button,{onClick:()=>{ne(void 0+o.attributes.url,o.attributes.name)},menu:{items:[{key:"remove",danger:!0,icon:e.jsx(U,{}),label:"Delete Build",onClick:()=>{ye({projectId:t.id,buildId:o.id})}}]},children:[e.jsx(Je,{})," Download"]})})}),l(h)}else l([])},[t]);const m=[{title:"File Name",width:"100%",dataIndex:"filename",key:"filename"},{title:"Environment",dataIndex:"envName",key:"envName"},{title:"File Size",dataIndex:"fileSize",key:"fileSize"},{title:"File Date",dataIndex:"fileDate",key:"fileDate"},{title:"File Controls",dataIndex:"fileControls",key:"fileControls"}];return e.jsxs(e.Fragment,{children:[i.length?e.jsxs(e.Fragment,{children:[e.jsx(ae,{style:{marginBottom:"0.8em"}}),e.jsxs(N,{style:{marginBottom:"1em"},children:["Builds count: ",i.length]})]}):null,e.jsx("div",{style:{maxHeight:250,overflow:"scroll"},children:i.length?e.jsx(Ce,{loading:n,showHeader:!1,pagination:!1,dataSource:i,columns:m}):null},i.length)]})}),gt=({project:t,compact:n})=>{const{id:i,attributes:l}=t,m=Pe(),{projectId:s}=ke(),x=Z(a=>a.projectBuildSelectedEnv),{isTemplate:h,isTemplateOwner:o,templateOwnerInfo:c,templatePrice:u,templateLicense:f="none",templateCategory:v="None",projectScreenshots:g}=l,{firstName:F,lastName:M,company:H="No Company"}=c??{},P=r.useMemo(()=>{const a=t.attributes?.selectedEnv;if(a)return t.attributes?.env?.find(p=>p.envId===a)?.envName},[t.attributes?.env,t.attributes?.selectedEnv]),O=r.useMemo(()=>{if(x)return t.attributes?.env?.find(a=>a.envId===x)?.envName},[t.attributes?.env,x]),y=a=>{const p=Z.getState().updateEnvStore;p({projectBuildSelectedEnv:a})},A=a=>{const p=D.getState().updateProjectWithHistory;p({selectedEnv:a},!1)},{setEditProjectModalId:L}=ze(),[k,C]=r.useState(!1);function V(a){if(!t.attributes.permissions?.canBuild){te.confirm({open:!0,title:"Activate unlimited builds for this project",zIndex:3e3,icon:e.jsxs("svg",{style:{color:" var(--ant-primary-5)"},xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",viewBox:"0 0 24 24",children:[e.jsx("title",{children:"Activate builds for this project"}),e.jsxs("g",{fill:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{fillRule:"evenodd",d:"M5 6.25A2.75 2.75 0 0 0 2.25 9v9A2.75 2.75 0 0 0 5 20.75h14A2.75 2.75 0 0 0 21.75 18V9A2.75 2.75 0 0 0 19 6.25zm11.5 6a1.25 1.25 0 1 0 0 2.5a1.25 1.25 0 0 0 0-2.5",clipRule:"evenodd"}),e.jsx("path",{d:"M16.485 3.069A2 2 0 0 1 19 5H9z"})]})]}),content:"Making project builds is a paid feature. Make a one-time payment for unlimited builds for this project.",okText:"Activate builds",cancelText:"Cancel",okButtonProps:{icon:e.jsx(Se,{})},onOk:()=>{const w=He.getState().user?.id;if(w)return Oe({user:w,productId:1,projectId:t.id});console.error("User not found")},onCancel:()=>console.log("cancel build activation")});return}if(!D.getState().workingProject?.attributes.pages.data?.filter(w=>!w.attributes.isSubpage)?.length){I.error("At least one page need to start build"),C(!1);return}const S=W.getState().fillProjectsList,B=D.getState().updateProjectWithHistory;C(!0),Ee(a).then(w=>{if(w){let T=structuredClone(D.getState().workingProject?.attributes.builds.data||[]);T=[...T,w],n?S():B({builds:{data:T}},!1)}}).catch(()=>{I.error("Build error")}).finally(()=>{C(!1)})}const re=[e.jsx(E,{icon:e.jsx(De,{}),onClick:()=>m(`/projects/${t.id}`),block:!0,style:{width:"90%"},type:"text",children:"Edit"},"edit"),e.jsx(R,{menu:{items:[{key:"Clone Project",label:"Clone Project",icon:e.jsx(Y,{}),onClick:()=>_(i).then(a=>{if(!a){I.error("Failed to clone project");return}s&&m(`/projects/${a}`)})},{key:"Delete Project",danger:!0,label:"Delete Project",icon:e.jsx(U,{}),onClick:()=>{K({icon:e.jsx(X,{}),title:"Remove Project?",content:`Please confirm removing project "${t.attributes.name}"`,okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:async()=>{await Q({projectId:i}).then(()=>{const a=W.getState().fillProjectsList;a(),s&&m("/projects")})},onCancel:()=>{}})}}]},children:e.jsx(E,{icon:e.jsx(ee,{}),block:!0,style:{width:"90%"},type:"text"},"more")},"clone")],se=[e.jsx(E,{icon:e.jsx(Y,{}),onClick:()=>{_(t.id).then(a=>{a&&m(`/projects/${a}`)})},block:!0,style:{width:"100%"},type:"text",children:"Clone to my Projects"},"clone")],le=()=>h?se:s?oe:re,oe=[e.jsx(R.Button,{className:"expandedDropdownButton ProjectLiveButton",icon:e.jsx(b,{}),menu:{items:[{key:"Default",label:e.jsxs(e.Fragment,{children:[e.jsx(b,{})," Default"]})},...t.attributes?.env?.map(a=>({key:a.envId,label:e.jsxs(e.Fragment,{children:[e.jsx(b,{})," ",a.envName]})}))||[]],onClick:({key:a})=>{A(a)}},children:e.jsxs("a",{href:Be(),target:"_blank",rel:"noreferrer",style:{color:"inherit",display:"block"},children:[e.jsx("svg",{style:{display:"inline-block",margin:"0px 2px -3px 0"},xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 28 28",children:e.jsx("path",{fill:"currentColor",d:"M25 9.5v5A7.5 7.5 0 0 0 14.5 25H6.25A3.25 3.25 0 0 1 3 21.75V9.5zM21.75 3A3.25 3.25 0 0 1 25 6.25V8H3V6.25A3.25 3.25 0 0 1 6.25 3zM20.5 27a6.5 6.5 0 1 0 0-13a6.5 6.5 0 0 0 0 13m-.902-9.404l4.032 2.275a.72.72 0 0 1 0 1.258l-4.032 2.274c-.49.277-1.098-.072-1.098-.629v-4.548c0-.557.609-.905 1.098-.63"})}),"Live",e.jsx(N,{icon:e.jsx(b,{style:{marginRight:-5}}),style:{marginLeft:5,lineHeight:"1em",padding:"2px 3px"},color:P?"purple":"",children:P||"Default"})]})},"live"),e.jsxs(R.Button,{loading:k,className:"expandedDropdownButton ProjectBuildButton",icon:e.jsx($,{}),onClick:()=>V(i),menu:{items:[{key:"Default",label:e.jsxs(e.Fragment,{children:[e.jsx(b,{})," Default"]})},...t.attributes?.env?.map(a=>({key:a.envId,label:e.jsxs(e.Fragment,{children:[e.jsx(b,{})," ",a.envName]})}))||[]],onClick:({key:a})=>{y(a)}},children:[t.attributes.permissions?.canBuild?e.jsx($,{}):e.jsx(Re,{}),"Build",e.jsx(N,{icon:e.jsx(b,{style:{marginRight:-5}}),style:{marginLeft:5,lineHeight:"1em",padding:"2px 3px"},color:O?"purple":"",children:O||"Default"})]},"build"),e.jsx(R,{className:"ProjectMenuButton",menu:{items:[{key:"Project Settings",label:"Project Settings",icon:e.jsx(Ae,{}),onClick:()=>L(t.id)},{key:"Clone Project",label:"Clone Project",icon:e.jsx(Y,{}),onClick:()=>_(i).then(a=>{s&&m(`/projects/${a}`)})},{key:"Delete Project",danger:!0,label:"Delete Project",icon:e.jsx(U,{}),onClick:()=>{K({icon:e.jsx(X,{}),title:"Remove Project?",content:`Please confirm removing project "${t.attributes.name}"`,okText:"Delete",cancelText:"Cancel",okButtonProps:{danger:!0},onOk:async()=>{await Q({projectId:i}).then(()=>{const a=W.getState().fillProjectsList;a(),s&&m("/projects")})},onCancel:()=>{}})}}]},children:e.jsx(E,{icon:e.jsx(ee,{}),block:!0,type:"dashed"})},"settings")],[z,J]=r.useState(null);r.useEffect(()=>{const a=t.attributes.builds?.data;if(a?.length){const p=Math.max(...a.map(B=>B.id)),S=a.find(B=>B.id===p);S&&J(S)}else J(null)},[t]);const ce=r.useContext(Fe);return e.jsx("div",{id:"ProjectCardSection",children:e.jsxs(Ie,{id:"Top",as:Me,children:[e.jsx(mt,{title:e.jsxs(e.Fragment,{children:[l.name,!n&&e.jsx(Ne,{guide:ce})]}),description:e.jsxs(e.Fragment,{children:[e.jsx($e,{title:"Main Theme Colors",style:{background:t.attributes.theme?.data?.attributes?.colorsPreview||"gray"}}),e.jsxs("div",{style:{display:"flex",gap:30},children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(Le,{style:{marginRight:"0.3em"}}),l.theme?.data?.attributes?.name]}),e.jsxs("div",{children:[e.jsx(G,{style:{marginRight:"0.3em"}}),"Updated:"," ",q(l.updatedAt).format("MMMM Do YYYY, h:mm a")]}),h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(ot,{style:{marginRight:"0.3em"}}),"Creator:"," ",o?"me":`${F} ${M}, ${H}`]}),e.jsxs("div",{children:[e.jsx(We,{style:{marginRight:"0.3em"}}),"License: ",f]}),e.jsxs("div",{children:[e.jsx(rt,{style:{marginRight:"0.3em"}}),"Category: ",v]}),e.jsxs("div",{children:[e.jsx(ut,{style:{marginRight:"0.3em"}}),"Price: ",u??"free"]})]}),!h&&n&&e.jsxs("div",{children:[e.jsx($,{style:{marginRight:"0.3em"}}),"Last Build:"," ",z?e.jsx(Ve,{content:e.jsxs(e.Fragment,{children:[e.jsx(G,{style:{marginRight:"0.5em"}}),q(z.attributes.createdAt).format("MMMM Do YYYY, h:mm a")]}),children:e.jsx("span",{onClick:()=>{ne(void 0+z.attributes.url,z.attributes.name)},className:"lastProjectLink",children:z.attributes.name})}):"none"]})]}),h&&e.jsx(vt,{projectTitle:t.attributes.name,projectScreenshots:g})]}),!n&&e.jsx(xt,{project:t,buildingNow:k})]})}),e.jsx(ae,{}),e.jsx("div",{className:"projectCardActionsBox",children:le()})]},i)})},zt=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"}));export{gt as P,ot as R,zt as p};
